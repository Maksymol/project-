<div class="container">
  <div class="container-card">

    <div class="card-box col-lg-4 col-md-4 col-sm-12 col-12">
      <div class="card-menu m-2">
        <!-- Мої оселі -->
        <div class="inputbox">
          <h4>Оселя</h4>
          <select class="m-2" [(ngModel)]="selectedFlatId" (ngModelChange)="onSelectionChange()">
            <option value="" disabled>виберіть оселю</option>
            <option *ngFor="let house of houses" [value]="house.name">{{house.name}}</option>
          </select>
        </div>

        <div class="inputbox">
          <h4>Послуга</h4>
          <select class="m-2" [(ngModel)]="selectedComunal" (ngModelChange)="onSelectionChange()">
            <option value="" disabled>виберіть послугу</option>
            <option *ngFor="let name of comunal_name" [value]="name.comunal_name">{{name.comunal_name}}</option>
          </select>
        </div>

        <div class="menu">
          <nav class="navbar-house">
            <button class="btn-link link-menu" *ngFor="let template of comunal_name">{{template!.comunal_name}}</button>
            <a class="link-menu" [routerLinkActive]="'active'"
              [routerLink]="'/housing-services/host-comun/comun-company'"><span class="link-text">Головна </span><i
                class="fa-regular fa-lightbulb"></i>
            </a>
            <a class="link-menu" [routerLinkActive]="'active'"
              [routerLink]="'/housing-services/host-comun/energy'"><span class="link-text">Електроенергія </span><i
                class="fa-regular fa-lightbulb"></i>
            </a>
            <a class="link-menu" [routerLinkActive]="'active'" [routerLink]="'/housing-services/host-comun/water'"><span
                class="link-text">Водопостачання </span><i class="fa-solid fa-faucet"></i>
            </a>
            <a class="link-menu" [routerLinkActive]="'active'"
              [routerLink]="'/housing-services/host-comun/cleaning'"><span class="link-text">Прибирання </span><i
                class="fa-solid fa-broom"></i>
            </a>
            <a class="link-menu" [routerLinkActive]="'active'" [routerLink]="'/housing-services/host-comun/gas'"><span
                class="link-text">Газопостачання </span><i class="fa-solid fa-fire-flame-simple"></i>
            </a>
            <a class="link-menu" [routerLinkActive]="'active'"
              [routerLink]="'/housing-services/host-comun/internet'"><span class="link-text">Інтернет </span><i
                class="fa-solid fa-wifi"></i>
            </a>
          </nav>

          <div>
            <div class="inputbox" *ngIf="showInput">
              <div class="btn-group">
                <form class="form-box" [formGroup]!="comunCreate">
                  <input class="input-cast m-2" type="text" id="comunal_name" placeholder="Назва шаблону"
                    name="comunal_name" formControlName="comunal_name" required>
                </form>

                <button class="btn-create" (click)="onSubmitComunCreate()"><i class="fa-solid fa-circle-check"></i>
                </button>
                <button class="btn-create btn-deleted" (click)="showInput = false"><i
                    class="fa-solid fa-circle-xmark"></i>
                </button>
              </div>
            </div>
          </div>

          <button class="btn-create" (click)="showInput = true" *ngIf="!showInput"><i
              class="fa-solid fa-circle-plus"></i>
          </button>
          <p>СТВОРИТИ ШАБЛОН</p>

          <button class="btn-create btn-deleted" mat-icon-button color="warn" (click)="openDialog()"><i
              class="fa-solid fa-circle-minus"></i></button>
          <p>ВИДАЛИТИ ШАБЛОН</p>

        </div>

      </div>
    </div>

    <div class="col-lg-8 col-md-8 col-sm-12 col-12">
      <router-outlet></router-outlet>
    </div>

  </div>
</div>

<div *ngIf="loading" class="loader-overlay">
  <div class="loader"></div>
</div>

